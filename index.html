<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Monitor Elite</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0a0a0a; color: white; padding: 15px; margin: 0; }
        .header { text-align: center; padding: 10px; }
        h1 { color: #f2a900; margin: 5px; font-size: 1.5rem; }
        
        .search-container { margin: 15px 0; text-align: center; }
        input { 
            width: 90%; padding: 12px; border-radius: 25px; border: 1px solid #333; 
            background: #1a1a1a; color: white; font-size: 1rem; outline: none;
        }

        #tablero { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(105px, 1fr)); 
            gap: 12px; 
        }

        .card { 
            background: #161616; border-radius: 15px; padding: 12px; 
            border: 1px solid #222; text-align: center; position: relative;
        }
        
        .logo { width: 35px; height: 35px; margin-bottom: 8px; border-radius: 50%; }
        .nombre { font-size: 0.7rem; color: #aaa; text-transform: uppercase; font-weight: bold; }
        .precio { font-size: 0.95rem; font-weight: bold; margin: 4px 0; }
        .cambio { font-size: 0.8rem; font-weight: bold; }
        
        .sube { border-bottom: 3px solid #00ff00; }
        .baja { border-bottom: 3px solid #ff4444; }
    </style>
</head>
<body>

    <div class="header">
        <h1>ðŸ’Ž Crypto Elite</h1>
    </div>

    <div class="search-container">
        <input type="text" id="buscador" placeholder="ðŸ” Buscar moneda (ej: pepe)..." oninput="filtrar()">
    </div>

    <div id="tablero">
        </div>

    <script>
        const monedasIds = [
            'bitcoin', 'ethereum', 'solana', 'ripple', 'pepe', 'cardano', 
            'tron', 'litecoin', 'pax-gold', 'terra-usd', 'usd-coin', 'binancecoin', 'dogecoin'
        ];
        
        let datosCompletos = [];

        async function cargarDatos() {
            try {
                // Consultamos precios y tambiÃ©n imÃ¡genes (logos)
                const res = await axios.get(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${monedasIds.join(',')}&order=market_cap_desc&sparkline=false`);
                datosCompletos = res.data;
                renderizar(datosCompletos);
            } catch (e) { console.log("Error al cargar"); }
        }

        function renderizar(lista) {
            const tablero = document.getElementById('tablero');
            tablero.innerHTML = '';
            
            lista.forEach(coin => {
                const esPositivo = coin.price_change_percentage_24h >= 0;
                tablero.innerHTML += `
                    <div class="card ${esPositivo ? 'sube' : 'baja'}">
                        <img class="logo" src="${coin.image}" alt="logo">
                        <div class="nombre">${coin.symbol}</div>
                        <div class="precio">$${coin.current_price < 1 ? coin.current_price.toFixed(6) : coin.current_price.toLocaleString()}</div>
                        <div class="cambio" style="color: ${esPositivo ? '#00ff00' : '#ff4444'}">
                            ${esPositivo ? 'â–²' : 'â–¼'} ${Math.abs(coin.price_change_percentage_24h).toFixed(2)}%
                        </div>
                    </div>
                `;
            });
        }

        function filtrar() {
            const busqueda = document.getElementById('buscador').value.toLowerCase();
            const filtrados = datosCompletos.filter(c => 
                c.name.toLowerCase().includes(busqueda) || c.symbol.toLowerCase().includes(busqueda)
            );
            renderizar(filtrados);
        }

        setInterval(cargarDatos, 30000);
        cargarDatos();
    </script>
</body>
</html>
